const hamb=document.querySelector("#hamb"),popup=document.querySelector("#popup"),menu=document.querySelector("#menu").cloneNode(!0),header=document.querySelector("#header"),wrapper=document.querySelector("#wrapper"),top_logo=document.querySelector("#top_logo"),top_zhan=document.querySelector("#top_zhan"),body=document.body;function debounce(e,t){let o;return function(...s){let r=this;clearTimeout(o),o=setTimeout(()=>e.apply(r,s),t)}}function handleResize(){let e=window.innerHeight;e<590?(top_logo.classList.add("d-none"),top_zhan.classList.add("d-none")):(top_logo.classList.remove("d-none"),top_zhan.classList.remove("d-none"))}window.addEventListener("resize",debounce(handleResize,100));let isScrolling=!1;function renderPopup(){popup.contains(menu)||popup.appendChild(menu)}function getYOffsetForScreenWidth(){let e=window.innerWidth;return(document.getElementById("header").offsetHeight,e>=1200)?-55:e>768?-78:-53}function scrollToAnchor(e){let t=document.getElementById(e);if(t){let o=getYOffsetForScreenWidth(),s=t.getBoundingClientRect().top+window.scrollY+o;window.scrollTo({top:s,behavior:"smooth"})}}window.addEventListener("scroll",()=>{isScrolling||(requestAnimationFrame(()=>{let e=window.scrollY||window.pageYOffset;e<window.innerHeight?header.classList.remove("highlight"):header.classList.add("highlight"),isScrolling=!1}),isScrolling=!0)}),hamb.addEventListener("click",e=>{e.preventDefault(),popup.classList.toggle("open"),hamb.classList.toggle("active"),wrapper.classList.toggle("noscroll"),header.classList.toggle("header-fixed"),renderPopup()}),document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",function(e){e.target.closest(".link")&&(document.getElementById("popup")?.classList.remove("open"),document.getElementById("hamb")?.classList.remove("active"),document.getElementById("wrapper")?.classList.remove("noscroll"),document.querySelector("header")?.classList.remove("header-fixed"))})});const links=document.querySelectorAll('a[href^="#"]');function disableBodyScroll(){body.classList.add("noscroll")}function enableBodyScroll(){body.classList.remove("noscroll")}links.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o=e.getAttribute("href").substring(1);scrollToAnchor(o)})});const openModalLinks=document.getElementsByClassName("openModal");Array.from(openModalLinks).forEach(e=>{e.onclick=function(){let e=this.getAttribute("data-modal-id");document.getElementById(e).style.display="block",disableBodyScroll()}});const closeModalSpans=document.querySelectorAll(".closeModal");closeModalSpans.forEach(e=>{e.onclick=function(){let e=this.getAttribute("data-modal-id");document.getElementById(e).style.display="none",enableBodyScroll()}}),window.addEventListener("click",e=>{e.target.classList.contains("modal")&&(e.target.style.display="none",enableBodyScroll())});const cursor=document.getElementById("cursor"),cursorBg=document.getElementById("cursor-bg");let mouseX=0,mouseY=0,cursorX=0,cursorY=0,bgX=0,bgY=0;function animate(){cursorX=mouseX,cursorY=mouseY,cursor.style.transform=`translate(${cursorX}px, ${cursorY}px) translate(-50%, -50%)`,bgX+=(mouseX-bgX)*.1,bgY+=(mouseY-bgY)*.1,cursorBg.style.transform=`translate(${bgX}px, ${bgY}px) translate(-50%, -50%)`,requestAnimationFrame(animate)}document.addEventListener("mousemove",e=>{mouseX=e.clientX,mouseY=e.clientY}),animate(),document.addEventListener("mousedown",()=>{cursor.classList.add("clicked"),cursorBg.classList.add("clicked")}),document.addEventListener("mouseup",()=>{cursor.classList.remove("clicked"),cursorBg.classList.remove("clicked")});const targets=document.querySelectorAll(".hover-target");targets.forEach(e=>{e.addEventListener("mouseenter",()=>{cursor.classList.add("hovered"),cursorBg.classList.add("hovered")}),e.addEventListener("mouseleave",()=>{cursor.classList.remove("hovered"),cursorBg.classList.remove("hovered")})});